// This is Luogu @disangan223's code
// No CCF, Yes €€¡ê
//freopen("sequence.in", "r", stdin);
//freopen("sequence.in", "w", stdin);
//freopen("sequence.in", "r", stdout);
//freopen("sequence.in", "w", stdout);
//freopen("sequence.out", "r", stdin);
//freopen("sequence.out", "w", stdin);
//freopen("sequence.out", "r", stdout);
//freopen("sequence.out", "w", stdout);
//freopen("sequence.in", "r", stdin);
//freopen("sequence.in", "w", stdin);
//freopen("sequence.in", "r", stdout);
//freopen("sequence.in", "w", stdout);
//freopen("sequence.out", "r", stdin);
//freopen("sequence.out", "w", stdin);
//freopen("sequence.out", "r", stdout);
//freopen("sequence.out", "w", stdout);
//freopen("sequence.in", "r", stdin);
//freopen("sequence.in", "w", stdin);
//freopen("sequence.in", "r", stdout);
//freopen("sequence.in", "w", stdout);
//freopen("sequence.out", "r", stdin);
//freopen("sequence.out", "w", stdin);
//freopen("sequence.out", "r", stdout);
//freopen("sequence.out", "w", stdout);
//freopen("sequence.in", "r", stdin);
//freopen("sequence.in", "w", stdin);
//freopen("sequence.in", "r", stdout);
//freopen("sequence.in", "w", stdout);
//freopen("sequence.out", "r", stdin);
//freopen("sequence.out", "w", stdin);
//freopen("sequence.out", "r", stdout);
//freopen("sequence.out", "w", stdout);
//freopen("sequence.in", "r", stdin);
//freopen("sequence.in", "w", stdin);
//freopen("sequence.in", "r", stdout);
//freopen("sequence.in", "w", stdout);
//freopen("sequence.out", "r", stdin);
//freopen("sequence.out", "w", stdin);
//freopen("sequence.out", "r", stdout);
//freopen("sequence.out", "w", stdout);
//freopen("sequence.in", "r", stdin);
//freopen("sequence.in", "w", stdin);
//freopen("sequence.in", "r", stdout);
//freopen("sequence.in", "w", stdout);
//freopen("sequence.out", "r", stdin);
//freopen("sequence.out", "w", stdin);
//freopen("sequence.out", "r", stdout);
//freopen("sequence.out", "w", stdout);
//freopen("sequence.in", "r", stdin);
//freopen("sequence.in", "w", stdin);
//freopen("sequence.in", "r", stdout);
//freopen("sequence.in", "w", stdout);
//freopen("sequence.out", "r", stdin);
//freopen("sequence.out", "w", stdin);
//freopen("sequence.out", "r", stdout);
//freopen("sequence.out", "w", stdout);
//freopen("sequence.in", "r", stdin);
//freopen("sequence.in", "w", stdin);
//freopen("sequence.in", "r", stdout);
//freopen("sequence.in", "w", stdout);
//freopen("sequence.out", "r", stdin);
//freopen("sequence.out", "w", stdin);
//freopen("sequence.out", "r", stdout);
//freopen("sequence.out", "w", stdout);
//freopen("sequence.in", "r", stdin);
//freopen("sequence.in", "w", stdin);
//freopen("sequence.in", "r", stdout);
//freopen("sequence.in", "w", stdout);
//freopen("sequence.out", "r", stdin);
//freopen("sequence.out", "w", stdin);
//freopen("sequence.out", "r", stdout);
//freopen("sequence.out", "w", stdout);
//freopen("sequence.in", "r", stdin);
//freopen("sequence.in", "w", stdin);
//freopen("sequence.in", "r", stdout);
//freopen("sequence.in", "w", stdout);
//freopen("sequence.out", "r", stdin);
//freopen("sequence.out", "w", stdin);
//freopen("sequence.out", "r", stdout);
//freopen("sequence.out", "w", stdout);
//freopen("sequence.in", "r", stdin);
//freopen("sequence.in", "w", stdin);
//freopen("sequence.in", "r", stdout);
//freopen("sequence.in", "w", stdout);
//freopen("sequence.out", "r", stdin);
//freopen("sequence.out", "w", stdin);
//freopen("sequence.out", "r", stdout);
//freopen("sequence.out", "w", stdout);
//freopen("sequence.in", "r", stdin);
//freopen("sequence.in", "w", stdin);
//freopen("sequence.in", "r", stdout);
//freopen("sequence.in", "w", stdout);
//freopen("sequence.out", "r", stdin);
//freopen("sequence.out", "w", stdin);
//freopen("sequence.out", "r", stdout);
//freopen("sequence.out", "w", stdout);
//freopen("sequence.in", "r", stdin);
//freopen("sequence.in", "w", stdin);
//freopen("sequence.in", "r", stdout);
//freopen("sequence.in", "w", stdout);
//freopen("sequence.out", "r", stdin);
//freopen("sequence.out", "w", stdin);
//freopen("sequence.out", "r", stdout);
//freopen("sequence.out", "w", stdout);
//freopen("sequence.in", "r", stdin);
//freopen("sequence.in", "w", stdin);
//freopen("sequence.in", "r", stdout);
//freopen("sequence.in", "w", stdout);
//freopen("sequence.out", "r", stdin);
//freopen("sequence.out", "w", stdin);
//freopen("sequence.out", "r", stdout);
//freopen("sequence.out", "w", stdout);
//freopen("sequence.in", "r", stdin);
//freopen("sequence.in", "w", stdin);
//freopen("sequence.in", "r", stdout);
//freopen("sequence.in", "w", stdout);
//freopen("sequence.out", "r", stdin);
//freopen("sequence.out", "w", stdin);
//freopen("sequence.out", "r", stdout);
//freopen("sequence.out", "w", stdout);
//freopen("sequence.in", "r", stdin);
//freopen("sequence.in", "w", stdin);
//freopen("sequence.in", "r", stdout);
//freopen("sequence.in", "w", stdout);
//freopen("sequence.out", "r", stdin);
//freopen("sequence.out", "w", stdin);
//freopen("sequence.out", "r", stdout);
//freopen("sequence.out", "w", stdout);
//freopen("sequence.in", "r", stdin);
//freopen("sequence.in", "w", stdin);
//freopen("sequence.in", "r", stdout);
//freopen("sequence.in", "w", stdout);
//freopen("sequence.out", "r", stdin);
//freopen("sequence.out", "w", stdin);
//freopen("sequence.out", "r", stdout);
//freopen("sequence.out", "w", stdout);
//freopen("sequence.in", "r", stdin);
//freopen("sequence.in", "w", stdin);
//freopen("sequence.in", "r", stdout);
//freopen("sequence.in", "w", stdout);
//freopen("sequence.out", "r", stdin);
//freopen("sequence.out", "w", stdin);
//freopen("sequence.out", "r", stdout);
//freopen("sequence.out", "w", stdout);
//freopen("sequence.in", "r", stdin);
//freopen("sequence.in", "w", stdin);
//freopen("sequence.in", "r", stdout);
//freopen("sequence.in", "w", stdout);
//freopen("sequence.out", "r", stdin);
//freopen("sequence.out", "w", stdin);
//freopen("sequence.out", "r", stdout);
//freopen("sequence.out", "w", stdout);
//freopen("sequence.in", "r", stdin);
//freopen("sequence.in", "w", stdin);
//freopen("sequence.in", "r", stdout);
//freopen("sequence.in", "w", stdout);
//freopen("sequence.out", "r", stdin);
//freopen("sequence.out", "w", stdin);
//freopen("sequence.out", "r", stdout);
//freopen("sequence.out", "w", stdout);
//freopen("sequence.in", "r", stdin);
//freopen("sequence.in", "w", stdin);
//freopen("sequence.in", "r", stdout);
//https://github.com/yinjun2024/blob/main/CstdioPlan.cpp
#include <cstdio>
#define int long long
int n, m, k;
long long tot = 0;
long long v[105], pre[105];
long long frac[105] = {1, 1, 2, 6, 24, 120, 720, 5040, 40320, 362880, 3628800, 39916800, 479001600, 237554682, 331032489, 972509923, 586493473, 986189864, 781263551, 868586527, 401576539, 447152495, 853155713, 655938692, 768863313, 254940118, 638976950, 282223649, 914551701, 567646151, 59230529, 837902046, 858512294, 380063818, 943237576};
long long inv[105] = {1, 1, 499122177, 166374059, 291154603, 856826403, 641926577, 376916469, 421456191, 712324701, 370705776, 305948985, 275056837, 405098354, 314148269, 154042465, 945481735, 407938109, 632701444, 33300076, 400962745, 637054254, 664203418, 419495765, 475007652, 657876692, 178879004, 856981449, 707986577, 403057740, 13435258, 676663441, 489072773, 529067478, 837644393};
long long nowfracpre[105][105];
long long res = 0;
inline void dfs(int it, int lstn) {
	if (lstn < 0) return;
	if (it == m) {
		pre[it] = lstn;
		dfs(it + 1, 0);
		return;
	}
	if (it == m + 1) {
		tot++;
		// Never gonna give you up
		long long totf = 0, sum = 0;
		for (int i = 0; i <= m; i++) {
			sum += pre[i] << i;
		}
		while (sum) {
			totf++;
			sum -= (sum & -sum);
		}
//		printf("%lld %d\n", totf, k);
		if (totf <= k) {
			long long tmpres = frac[n];
			for (int i = 0; i <= m; i++) {
				tmpres = tmpres * nowfracpre[i][pre[i]] % 998244353;
			}
			for (int i = 0; i <= m; i++) {
						tmpres = tmpres * inv[pre[i]] % 998244353;
			}
			res = (res + tmpres) % 998244353;
			if (tmpres == 1) {
//			for (int i = 0; i <= m; i++) {
//				printf("%lld ", pre[i]);
//			}
//			printf("\nadd %lld\n", tmpres);
			}
		}
	}
	else {
		for (int i = 0; i <= lstn; i++) {
			pre[it] = i;
			dfs(it + 1, lstn - i);
		}
	}
}
void dfs2(int it, int mini) {
	if (it == n) {
		tot++;
		// Never gonna give you up
		long long tot = 0, sum = 0;
		for (int i = 0; i < n; i++) {
			sum += 1ll << pre[i];
		}
		while (sum) {
			tot++;
			sum -= (sum & -sum);
		}
		if (tot <= k) {
			long long tmpres = frac[n];
			long long tmp1 = -1, tmp2;
			for (int i = 0; i < n; i++) {
				tmpres = tmpres * v[pre[i]] % 998244353;
			}
			for (int i = 0; i < n; i++) {
				if (pre[i] != tmp1) {
					if (tmp1 != -1) {
						tmpres = tmpres * inv[tmp2] % 998244353;
					}
					tmp1 = pre[i];
					tmp2 = 1;
				}
				else tmp2++;
			}
			tmpres = tmpres * inv[tmp2] % 998244353;
			res = (res + tmpres) % 998244353;
			if (tmpres == 1) {
//			for (int i = 0; i < n; i++) {
//				printf("%lld ", pre[i]);
//			}
//			printf("\nadd %lld\n", tmpres);
			}
		}
	}
	else {
		for (int i = mini; i <= m; i++) {
			pre[it] = i;
			dfs2(it + 1, i);
		}
	}
}
signed main() {
	// 35pts~60pts
	// LOCKED
	freopen("sequence.in", "r", stdin);
	freopen("sequence.out", "w", stdout);
	scanf("%lld %lld %lld", &n, &m, &k);
	for (int i = 0; i <= m; i++) {
		scanf("%lld", &v[i]);
		nowfracpre[i][0] = 1;
		for (int j = 1; j <= n; j++) {
			nowfracpre[i][j] = nowfracpre[i][j - 1] * v[i] % 998244353;
		}
	}
//	n = 30; m = 7;
	if (m < n) dfs(0, n);
	else dfs2(0, 0);
	printf("%lld\n", res, tot);
	return 0;
}
/*
5 1 1 
2 1

30 100 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
*/
